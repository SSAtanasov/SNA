# LAB 8: NAT (Network Address Translation) –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç:** 75-90 –º–∏–Ω—É—Ç–∏  
**–¶–µ–ª:** –ù–∞—É—á–∞–≤–∞–Ω–µ –Ω–∞ NAT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞ —Å–∏–º—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Ä—ä–∑–∫–∞ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ —Å–ø–æ–¥–µ–ª—è–Ω–µ –Ω–∞ –ø—É–±–ª–∏—á–Ω–∏ IP –∞–¥—Ä–µ—Å–∏

---

## –¶–ï–õ–ò –ù–ê –£–ü–†–ê–ñ–ù–ï–ù–ò–ï–¢–û

–°–ª–µ–¥ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ –ª–∞–± —â–µ –º–æ–∂–µ—Ç–µ –¥–∞:
- ‚úÖ –†–∞–∑–±–∏—Ä–∞—Ç–µ –∫–∞–∫–≤–æ –µ NAT –∏ –∑–∞—â–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ Static NAT (1:1 mapping)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ Dynamic NAT (pool-based)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ PAT (Port Address Translation) - –Ω–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω
- ‚úÖ –°–∏–º—É–ª–∏—Ä–∞—Ç–µ –≤—Ä—ä–∑–∫–∞ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤ Packet Tracer
- ‚úÖ Troubleshoot NAT –ø—Ä–æ–±–ª–µ–º–∏

---

## –¢–ï–û–†–ï–¢–ò–ß–ù–ê –û–°–ù–û–í–ê

### –ö–∞–∫–≤–æ –µ NAT?

**Network Address Translation (NAT)** –µ —Ç–µ—Ö–Ω–∏–∫–∞ –∑–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ä–∞–Ω–µ –Ω–∞ private IP –∞–¥—Ä–µ—Å–∏ –∫—ä–º public IP –∞–¥—Ä–µ—Å–∏ –ø—Ä–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

**–ó–∞—â–æ –µ –Ω—É–∂–µ–Ω NAT?**
- üìä –õ–∏–ø—Å–∞ –Ω–∞ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ IPv4 –∞–¥—Ä–µ—Å–∏
- üîí –°–∏–≥—É—Ä–Ω–æ—Å—Ç (—Å–∫—Ä–∏–≤–∞ –≤—ä—Ç—Ä–µ—à–Ω–∞—Ç–∞ —Ç–æ–ø–æ–ª–æ–≥–∏—è)
- üí∞ –ò–∫–æ–Ω–æ–º–∏—è (–Ω–µ –µ –Ω—É–∂–µ–Ω –ø—É–±–ª–∏—á–µ–Ω IP –∑–∞ –≤—Å—è–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)
- üîÑ –õ–µ—Å–Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ ISP (—Å–∞–º–æ –≤—ä–Ω—à–Ω–∏—è—Ç IP —Å–µ –ø—Ä–æ–º–µ–Ω—è)

### –¢–∏–ø–æ–≤–µ NAT:

#### 1. **Static NAT** (1:1 mapping)
```
Inside Local    ‚Üê‚Üí    Inside Global
192.168.1.10    ‚Üê‚Üí    203.0.113.10
192.168.1.11    ‚Üê‚Üí    203.0.113.11
```
- –ü–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω–æ 1:1 mapping
- –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ —Å—ä—Ä–≤—ä—Ä–∏ (Web, Mail, FTP)
- –ù—É–∂–µ–Ω –µ –æ—Ç–¥–µ–ª–µ–Ω –ø—É–±–ª–∏—á–µ–Ω IP –∑–∞ –≤—Å—è–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

#### 2. **Dynamic NAT** (Pool-based)
```
Inside Local         Inside Global Pool
192.168.1.10    ‚Üí    203.0.113.10-20 (–∏–∑–±–∏—Ä–∞ —Å–µ —Å–≤–æ–±–æ–¥–µ–Ω)
192.168.1.11    ‚Üí    203.0.113.11 (–∞–∫–æ –∏–º–∞ —Å–≤–æ–±–æ–¥–µ–Ω)
```
- –í—Ä–µ–º–µ–Ω–Ω–æ mapping –æ—Ç pool
- First-come, first-served
- –ê–∫–æ pool-—ä—Ç –µ –ø—ä–ª–µ–Ω, –Ω–æ–≤–∏—Ç–µ –≤—Ä—ä–∑–∫–∏ —á–∞–∫–∞—Ç

#### 3. **PAT** (Port Address Translation) - NAT Overload
```
Inside Local          Inside Global (IP:Port)
192.168.1.10:54321 ‚Üí 203.0.113.1:54321
192.168.1.11:54322 ‚Üí 203.0.113.1:54322
192.168.1.12:54323 ‚Üí 203.0.113.1:54323
```
- –°–ø–æ–¥–µ–ª—è –µ–¥–∏–Ω –ø—É–±–ª–∏—á–µ–Ω IP –∑–∞ –º–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ò–∑–ø–æ–ª–∑–≤–∞ port numbers –∑–∞ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∞–≤–∞–Ω–µ
- **–ù–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω** –≤ –¥–æ–º–∞—à–Ω–∏ –∏ –º–∞–ª–∫–∏ –º—Ä–µ–∂–∏
- –î–æ 65,535 –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∏ –≤—Ä—ä–∑–∫–∏ –Ω–∞ IP –∞–¥—Ä–µ—Å

---

## –¢–û–ü–û–õ–û–ì–ò–Ø

### –¶–µ–ª–µ–≤–∞ —Ç–æ–ø–æ–ª–æ–≥–∏—è:

```
        INTERNET
       (–°–∏–º—É–ª–∏—Ä–∞–Ω)
      209.165.200.1
            ‚îÇ
            ‚îÇ Se0/0/0 (outside)
            ‚îÇ 209.165.200.2/30
        ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   R1   ‚îÇ (NAT Router)
        ‚îÇ  (ISP) ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ G0/0 (inside)
            ‚îÇ 203.0.113.1/24
            ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  SW1   ‚îÇ
        ‚îî‚î¨‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚î¨‚îÄ‚îò
         ‚îÇ  ‚îÇ  ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PC1  ‚îÇ          ‚îÇ Server1 ‚îÇ
‚îÇ.10.10 ‚îÇ          ‚îÇ  .10.50 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  DHCP              Static NAT

Internal Network: 192.168.10.0/24
Public IP range: 203.0.113.0/24 (Test-Net-3, RFC 5737)
ISP connection: 209.165.200.0/30
```

---

## –ß–ê–°–¢ 1: Static NAT (–∑–∞ —Å—ä—Ä–≤—ä—Ä–∏)

### –°–¢–™–ü–ö–ê 1: –ò–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞ –±–∞–∑–æ–≤–∞—Ç–∞ —Ç–æ–ø–æ–ª–æ–≥–∏—è

–í Packet Tracer:
- **1x Router 2911** (R1)
- **1x Switch 2960-24TT** (SW1)
- **2x PC** (PC1, Server1)
- **1x Cloud** (—Å–∏–º—É–ª–∏—Ä–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)

**–ö–∞–±–µ–ª–∏—Ä–∞–Ω–µ:**
```
R1 Se0/0/0 ‚Üî Cloud
R1 Gi0/0 ‚Üî SW1 Gi0/1
SW1 Fa0/1 ‚Üî PC1
SW1 Fa0/2 ‚Üî Server1
```

---

### –°–¢–™–ü–ö–ê 2: –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ Router

```cisco
enable
configure terminal
hostname R1-NAT
no ip domain-lookup

! Inside interface (–∫—ä–º –≤—ä—Ç—Ä–µ—à–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞)
interface gigabitEthernet 0/0
 description Inside Network
 ip address 192.168.10.1 255.255.255.0
 no shutdown
 exit

! Outside interface (–∫—ä–º ISP/Internet)
interface serial 0/0/0
 description Outside to ISP
 ip address 209.165.200.2 255.255.255.252
 clock rate 64000
 no shutdown
 exit

! Default route (—Å–∏–º—É–ª–∏—Ä–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–∞—Ä—à—Ä—É—Ç)
ip route 0.0.0.0 0.0.0.0 209.165.200.1

end
copy running-config startup-config
```

---

### –°–¢–™–ü–ö–ê 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ Static NAT –∑–∞ Server

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Server1 –µ Web server –Ω–∞ 192.168.10.50 –∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –¥–æ—Å—Ç—ä–ø–µ–Ω –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–∞ –ø—É–±–ª–∏—á–µ–Ω IP 203.0.113.50

```cisco
configure terminal

! –î–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ inside –∏ outside –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
interface gigabitEthernet 0/0
 ip nat inside
 exit

interface serial 0/0/0
 ip nat outside
 exit

! Static NAT mapping (inside local ‚Üí inside global)
ip nat inside source static 192.168.10.50 203.0.113.50

end
copy running-config startup-config
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
- `ip nat inside` - –º–∞—Ä–∫–∏—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞—Ç–æ –≤—ä—Ç—Ä–µ—à–µ–Ω
- `ip nat outside` - –º–∞—Ä–∫–∏—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞—Ç–æ –≤—ä–Ω—à–µ–Ω
- `ip nat inside source static` - —Å—ä–∑–¥–∞–≤–∞ 1:1 mapping

---

### –°–¢–™–ü–ö–ê 4: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ Static NAT

#### 4.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞

**Server1:**
- IP: `192.168.10.50`
- Mask: `255.255.255.0`
- Gateway: `192.168.10.1`
- DNS: `8.8.8.8`

**PC1:**
- IP: `192.168.10.10`
- Mask: `255.255.255.0`
- Gateway: `192.168.10.1`

#### 4.2 –ü—Ä–æ–≤–µ—Ä–∏ NAT translations

```cisco
show ip nat translations
```

**–û—á–∞–∫–≤–∞–Ω –∏–∑—Ö–æ–¥:**
```
Pro Inside global      Inside local       Outside local      Outside global
--- 203.0.113.50       192.168.10.50      ---                ---
```

#### 4.3 –¢–µ—Å—Ç ping

–û—Ç PC1:
```
C:\> ping 203.0.113.50
```

–û—Ç Router (—Å–∏–º—É–ª–∏—Ä–∞ external ping):
```cisco
ping 203.0.113.50 source serial 0/0/0
```

#### 4.4 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```cisco
show ip nat statistics

! –í–∏–∂ –±—Ä–æ—è –Ω–∞ translations
show ip nat translations verbose
```

---

## –ß–ê–°–¢ 2: Dynamic NAT (pool-based)

### –°–¢–™–ü–ö–ê 5: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ Dynamic NAT

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –ò–º–∞–º–µ pool –æ—Ç 10 –ø—É–±–ª–∏—á–Ω–∏ IP –∞–¥—Ä–µ—Å–∞ (203.0.113.10-19) –∑–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∞ —É–ø–æ—Ç—Ä–µ–±–∞

```cisco
configure terminal

! –°—ä–∑–¥–∞–π ACL –∑–∞ inside addresses (–∫–æ–∏ private IPs –º–æ–≥–∞—Ç –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç NAT)
access-list 1 permit 192.168.10.0 0.0.0.255

! –°—ä–∑–¥–∞–π NAT pool (–¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç –ø—É–±–ª–∏—á–Ω–∏ IPs)
ip nat pool PUBLIC_POOL 203.0.113.10 203.0.113.19 netmask 255.255.255.0

! –°–≤—ä—Ä–∂–∏ ACL —Å NAT pool
ip nat inside source list 1 pool PUBLIC_POOL

end
copy running-config startup-config
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
- `access-list 1` - –æ–ø—Ä–µ–¥–µ–ª—è –∫–æ–∏ –≤—ä—Ç—Ä–µ—à–Ω–∏ IP –∞–¥—Ä–µ—Å–∏ –º–æ–≥–∞—Ç –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç NAT
- `ip nat pool` - —Å—ä–∑–¥–∞–≤–∞ pool –æ—Ç –ø—É–±–ª–∏—á–Ω–∏ IP –∞–¥—Ä–µ—Å–∏
- `ip nat inside source list 1 pool` - —Å–≤—ä—Ä–∑–≤–∞ ACL —Å pool

### –°–¢–™–ü–ö–ê 6: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ Dynamic NAT

–û—Ç PC1:
```
C:\> ping 8.8.8.8
```

–ù–∞ Router:
```cisco
show ip nat translations

! –í–∏–∂ –¥–∏–Ω–∞–º–∏—á–Ω–∏—Ç–µ mappings
```

**–û—á–∞–∫–≤–∞–Ω –∏–∑—Ö–æ–¥:**
```
Pro Inside global      Inside local       Outside local      Outside global
icmp 203.0.113.10:1    192.168.10.10:1    8.8.8.8:1          8.8.8.8:1
```

---

## –ß–ê–°–¢ 3: PAT (NAT Overload) - –ù–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω

### –°–¢–™–ü–ö–ê 7: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PAT

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –°–ø–æ–¥–µ–ª—è–º–µ –ï–î–ò–ù –ø—É–±–ª–∏—á–µ–Ω IP –∞–¥—Ä–µ—Å –∑–∞ –≤—Å–∏—á–∫–∏ –≤—ä—Ç—Ä–µ—à–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```cisco
configure terminal

! –ü—Ä–µ–º–∞—Ö–Ω–∏ –ø—Ä–µ–¥–∏—à–Ω–∏—Ç–µ NAT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∞–∫–æ –∏–º–∞)
no ip nat inside source list 1 pool PUBLIC_POOL
no ip nat pool PUBLIC_POOL

! ACL –∑–∞ –≤—ä—Ç—Ä–µ—à–Ω–∏ –∞–¥—Ä–µ—Å–∏
access-list 1 permit 192.168.10.0 0.0.0.255

! PAT using outside interface IP (overload)
ip nat inside source list 1 interface serial 0/0/0 overload

end
copy running-config startup-config
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
- `overload` - –∫–ª—é—á–æ–≤–∞ –¥—É–º–∞ –∑–∞ PAT (Port Address Translation)
- `interface serial 0/0/0` - –∏–∑–ø–æ–ª–∑–≤–∞ IP –∞–¥—Ä–µ—Å–∞ –Ω–∞ –≤—ä–Ω—à–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ NAT

### –°–¢–™–ü–ö–ê 8: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ PAT

#### 8.1 –ì–µ–Ω–µ—Ä–∏—Ä–∞–π —Ç—Ä–∞—Ñ–∏–∫ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–û—Ç PC1:
```
C:\> ping 8.8.8.8 -t
```

–û—Ç Server1 (–∞–∫–æ –∏–º–∞ –±—Ä–∞—É–∑—ä—Ä):
```
–û—Ç–≤–æ—Ä–∏ –±—Ä–∞—É–∑—ä—Ä –∏ –ø–æ—Å–µ—Ç–∏ http://cisco.com (—Å–∏–º—É–ª–∏—Ä–∞–Ω–æ)
```

#### 8.2 –í–∏–∂ NAT translations —Å –ø–æ—Ä—Ç–æ–≤–µ

```cisco
show ip nat translations

! –í–∏–∂ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏—Ç–µ
show ip nat statistics
```

**–û—á–∞–∫–≤–∞–Ω –∏–∑—Ö–æ–¥:**
```
Pro Inside global           Inside local          Outside local         Outside global
icmp 209.165.200.2:1        192.168.10.10:1       8.8.8.8:1             8.8.8.8:1
icmp 209.165.200.2:2        192.168.10.50:1       8.8.8.8:2             8.8.8.8:2
tcp  209.165.200.2:1025     192.168.10.10:1025    172.217.14.206:80     172.217.14.206:80
```

–ó–∞–±–µ–ª–µ–∂–∏, —á–µ **–ø–æ—Ä—Ç–æ–≤–µ—Ç–µ —Å–µ —Ä–∞–∑–ª–∏—á–∞–≤–∞—Ç** –∑–∞ –≤—Å—è–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ!

---

## –ß–ê–°–¢ 4: PAT —Å –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω IP (–Ω–µ interface)

### –°–¢–™–ü–ö–ê 9: PAT —Å pool –æ—Ç –µ–¥–∏–Ω IP

–ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–µ–Ω –º–µ—Ç–æ–¥ - –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω IP –∞–¥—Ä–µ—Å:

```cisco
configure terminal

! –ü—Ä–µ–º–∞—Ö–Ω–∏ –ø—Ä–µ–¥–∏—à–Ω–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
no ip nat inside source list 1 interface serial 0/0/0 overload

! –°—ä–∑–¥–∞–π pool —Å –ï–î–ò–ù IP
ip nat pool PAT_POOL 203.0.113.1 203.0.113.1 netmask 255.255.255.0

! PAT —Å —Ç–æ–∑–∏ pool
ip nat inside source list 1 pool PAT_POOL overload

end
copy running-config startup-config
```

–¢–µ—Å—Ç–≤–∞–π –æ—Ç–Ω–æ–≤–æ - —Ä–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –µ —Å—ä—â–∏—è—Ç, –Ω–æ —Å–µ–≥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ 203.0.113.1 –≤–º–µ—Å—Ç–æ 209.165.200.2

---

## VERIFICATION COMMANDS

### –û—Å–Ω–æ–≤–Ω–∏ –∫–æ–º–∞–Ω–¥–∏ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:

```cisco
! –í–∏–∂ –≤—Å–∏—á–∫–∏ NAT translations
show ip nat translations

! –í–∏–∂ –¥–µ—Ç–∞–π–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
show ip nat translations verbose

! –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
show ip nat statistics

! –î–µ–±—ä–≥ (–≤–Ω–∏–º–∞–≤–∞–π - –º–Ω–æ–≥–æ output!)
debug ip nat

! –ò–∑–∫–ª—é—á–∏ debug
undebug all
```

### –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ NAT translations:

```cisco
! –ò–∑—á–∏—Å—Ç–∏ –≤—Å–∏—á–∫–∏ –¥–∏–Ω–∞–º–∏—á–Ω–∏ NAT entries
clear ip nat translation *

! –ò–∑—á–∏—Å—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω entry
clear ip nat translation inside 192.168.10.10

! –ò–∑—á–∏—Å—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏—Ç–µ
clear ip nat statistics
```

---

## VERIFICATION CHECKLIST

### Static NAT:
```
‚òê –°—ä—Ä–≤—ä—Ä—ä—Ç –∏–º–∞ private IP (192.168.10.50)
‚òê Static mapping –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω (203.0.113.50)
‚òê Ping –∫—ä–º public IP —Ä–∞–±–æ—Ç–∏
‚òê show ip nat translations –ø–æ–∫–∞–∑–≤–∞ static mapping
```

### Dynamic NAT:
```
‚òê ACL permit –≤—ä—Ç—Ä–µ—à–Ω–∏ –∞–¥—Ä–µ—Å–∏
‚òê NAT pool –µ —Å—ä–∑–¥–∞–¥–µ–Ω
‚òê ACL –µ —Å–≤—ä—Ä–∑–∞–Ω —Å pool
‚òê show ip nat translations –ø–æ–∫–∞–∑–≤–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∏ mappings
```

### PAT (Overload):
```
‚òê ACL permit –≤—ä—Ç—Ä–µ—à–Ω–∏ –∞–¥—Ä–µ—Å–∏
‚òê "overload" keyword –µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω
‚òê –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–ø–æ–¥–µ–ª—è—Ç –µ–¥–∏–Ω IP
‚òê –†–∞–∑–ª–∏—á–Ω–∏ –ø–æ—Ä—Ç–æ–≤–µ –∑–∞ –≤—Å—è–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
‚òê show ip nat translations –ø–æ–∫–∞–∑–≤–∞ port mappings
```

---

## –ß–ï–°–¢–û –°–†–ï–©–ê–ù–ò –ü–†–û–ë–õ–ï–ú–ò

### –ü—Ä–æ–±–ª–µ–º 1: NAT –Ω–µ —Ä–∞–±–æ—Ç–∏

**–ü—Ä–∏—á–∏–Ω–∞:** Inside/Outside –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –Ω–µ —Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–∏

**–†–µ—à–µ–Ω–∏–µ:**
```cisco
show ip interface brief

! –í–∏–∂ –¥–∞–ª–∏ –∏–º–∞ (NAT inside) –∏–ª–∏ (NAT outside)
! –ê–∫–æ –ª–∏–ø—Å–≤–∞:
interface gigabitEthernet 0/0
 ip nat inside

interface serial 0/0/0
 ip nat outside
```

### –ü—Ä–æ–±–ª–µ–º 2: –ù—è–º–∞ translations

**–ü—Ä–∏—á–∏–Ω–∞:** ACL –Ω–µ permit-–≤–∞ —Ç—Ä–∞—Ñ–∏–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
```cisco
show access-lists

! –í–∏–∂ –¥–∞–ª–∏ ACL –µ –ø—Ä–∞–≤–∏–ª–µ–Ω
access-list 1 permit 192.168.10.0 0.0.0.255
```

### –ü—Ä–æ–±–ª–µ–º 3: Dynamic NAT pool –µ –ø—ä–ª–µ–Ω

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–≤–µ—á–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ—Ç IP –∞–¥—Ä–µ—Å–∏ –≤ pool-–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–∑–ø–æ–ª–∑–≤–∞–π PAT (overload) –≤–º–µ—Å—Ç–æ Dynamic NAT
- –£–≤–µ–ª–∏—á–∏ pool-–∞

### –ü—Ä–æ–±–ª–µ–º 4: Ping —Ä–∞–±–æ—Ç–∏, but HTTP –Ω–µ

**–ü—Ä–∏—á–∏–Ω–∞:** Firewall/ACL –±–ª–æ–∫–∏—Ä–∞ —Ç—Ä–∞—Ñ–∏–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
```cisco
! –ü—Ä–æ–≤–µ—Ä–∏ ACL –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏—Ç–µ
show ip access-lists

! –ü—Ä–µ–º–∞—Ö–Ω–∏ ACL –∞–∫–æ –±–ª–æ–∫–∏—Ä–∞
interface gigabitEthernet 0/0
 no ip access-group 100 in
```

---

## TROUBLESHOOTING WORKFLOW

```
1. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ inside/outside –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–æ
   ‚Üì
2. –ü—Ä–æ–≤–µ—Ä–∏ ACL (permit –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ addresses)
   ‚Üì
3. –ü—Ä–æ–≤–µ—Ä–∏ NAT pool –∏–ª–∏ overload keyword
   ‚Üì
4. –ü—Ä–æ–≤–µ—Ä–∏ NAT translations (show ip nat translations)
   ‚Üì
5. –ü—Ä–æ–≤–µ—Ä–∏ routing (–∏–º–∞ –ª–∏ default route?)
   ‚Üì
6. Debug (debug ip nat) - –≤–∏–∂ –≤ real-time
```

---

## –ó–ê–î–ê–ß–ò –ó–ê –°–ê–ú–û–°–¢–û–Ø–¢–ï–õ–ù–ê –†–ê–ë–û–¢–ê

### –ó–∞–¥–∞—á–∞ 1: Port Forwarding (Static NAT –∑–∞ specific port)

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π Port Forwarding –∑–∞ Web server:
- –í—ä—Ç—Ä–µ—à–µ–Ω Web server: 192.168.10.50:80
- –í—ä–Ω—à–µ–Ω –¥–æ—Å—Ç—ä–ø: 203.0.113.1:8080

```cisco
ip nat inside source static tcp 192.168.10.50 80 203.0.113.1 8080
```

### –ó–∞–¥–∞—á–∞ 2: Multiple Static NAT mappings

–°—ä–∑–¥–∞–π Static NAT –∑–∞:
- Web Server: 192.168.10.50 ‚Üí 203.0.113.50
- Mail Server: 192.168.10.51 ‚Üí 203.0.113.51
- FTP Server: 192.168.10.52 ‚Üí 203.0.113.52

### –ó–∞–¥–∞—á–∞ 3: PAT —Å backup pool

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π PAT, –Ω–æ –∞–∫–æ –ø—ä—Ä–≤–∏—á–Ω–∏—è—Ç IP –µ –∑–∞–µ—Ç, –∏–∑–ø–æ–ª–∑–≤–∞–π backup –æ—Ç pool.

---

## –†–ï–ê–õ–ù–ò –°–¶–ï–ù–ê–†–ò–ò

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ú–∞–ª–∫–∞ —Ñ–∏—Ä–º–∞ —Å 50 —Å–ª—É–∂–∏—Ç–µ–ª–∏
- **–†–µ—à–µ–Ω–∏–µ:** PAT —Å –µ–¥–∏–Ω –ø—É–±–ª–∏—á–µ–Ω IP
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `ip nat inside source list 1 interface GigabitEthernet0/1 overload`

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–æ–º–ø–∞–Ω–∏—è —Å—ä—Å —Å–æ–±—Å—Ç–≤–µ–Ω Web/Mail —Å—ä—Ä–≤—ä—Ä
- **–†–µ—à–µ–Ω–∏–µ:** Static NAT –∑–∞ —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ + PAT –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ
- **Web Server:** Static NAT 192.168.1.10 ‚Üí 203.0.113.10
- **Mail Server:** Static NAT 192.168.1.11 ‚Üí 203.0.113.11
- **–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏:** PAT overload

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Data Center —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—É–±–ª–∏—á–Ω–∏ IP-—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ:** Dynamic NAT pool –∑–∞ flexibility
- **Pool:** 203.0.113.10-203.0.113.100 (91 IPs)

---

## –ö–õ–Æ–ß–û–í–ò –ö–û–ù–¶–ï–ü–¶–ò–ò

### NAT –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è:
- **Inside Local:** Private IP (192.168.10.10)
- **Inside Global:** Public IP (203.0.113.10)
- **Outside Local:** Destination IP as seen from inside
- **Outside Global:** Actual destination IP

### Best Practices:
1. ‚úÖ –ò–∑–ø–æ–ª–∑–≤–∞–π PAT –∑–∞ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–∏–∫–æ–Ω–æ–º–∏—è –Ω–∞ IP-—Ç–∞)
2. ‚úÖ Static NAT —Å–∞–º–æ –∑–∞ —Å—ä—Ä–≤—ä—Ä–∏
3. ‚úÖ ACL —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –º–∞–∫—Å–∏–º–∞–ª–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω (–Ω–µ permit all)
4. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–π –≤—Å–µ–∫–∏ Static NAT mapping
5. ‚úÖ –ò–∑–ø–æ–ª–∑–≤–∞–π `overload` –∫–æ–≥–∞—Ç–æ –∏–º–∞—à –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –±—Ä–æ–π –ø—É–±–ª–∏—á–Ω–∏ IP-—Ç–∞

---

## –°–õ–ï–î–í–ê–©–ò –°–¢–™–ü–ö–ò

–°–µ–≥–∞ –∑–Ω–∞–µ—à –∫–∞–∫ –¥–∞:
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—à Static NAT –∑–∞ —Å—ä—Ä–≤—ä—Ä–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—à Dynamic NAT —Å pools
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—à PAT (NAT Overload) –∑–∞ —Å–ø–æ–¥–µ–ª—è–Ω–µ –Ω–∞ IP
- Troubleshoot NAT –ø—Ä–æ–±–ª–µ–º–∏

**–°–ª–µ–¥–≤–∞—â –ª–∞–±:** Lab 9 - Integrated Network Design (3+ subnets + –¥–∏–∞–≥—Ä–∞–º–∏)

---

**–ì–æ—Ç–æ–≤–æ! –ó–∞–ø–∞–∑–∏ .pkt —Ñ–∞–π–ª–∞ –∫–∞—Ç–æ `Lab8_NAT_Configuration.pkt`**
